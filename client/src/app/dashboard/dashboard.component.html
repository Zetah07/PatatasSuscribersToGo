<div class="flex mx-auto">
  <app-navbar></app-navbar>
  <div class="overflow-y-auto max-h-screen w-full">
    <main class="main-content p-4 flex flex-col">
      <h2 class="text-2xl text-center font-bold mb-4 text-ColorNav">
        {{ "Lista de suscriptores" }}
      </h2>
      <table class="border-collapse w-full">
        <thead>
          <tr class="bg-slate-300 text-ColorNav">
            <th class="border px-4 py-2">ID</th>
            <th class="border px-4 py-2">Nombre</th>
          <th class="border px-4 py-2">Email</th>
          <th class="border px-4 py-2">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let subscriber of subscribers" class="border hover:bg-slate-200">
          <td class="border px-4 py-2 hover:text-ColorHover">{{ subscriber.Id }}</td>
          <td class="border px-4 py-2">{{ subscriber.Name }}</td>
          <td class="border px-4 py-2">{{ subscriber.Email }}</td>
          <td class="border px-4 py-2 text-center">
            <button (click)="openModal(subscriber)" class="py-2 px-4 font-bold hover:text-ColorHover">
              <i class="fa-regular fa-eye"></i>
            </button>
            <span class="mx-2">|</span>
            <a [routerLink]="['/update', subscriber.Id]" target="_blank" class="hover:text-ColorHover inline-block py-2 px-4">
              <i class="fa-solid fa-pen"></i>
            </a>
            <span class="mx-2">|</span>
            <button class="py-2 px-4 font-bold hover:text-ColorNav">
              <i class="fa-solid fa-x"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    
    <div *ngIf="selectedSubscriber" class="mt-4">
      <h2 class="text-2xl font-bold">
        Detalles del Suscriptor: {{ selectedSubscriber.Id }}
      </h2>
      <div class="mt-2">
        <p>Nombre del suscriptor: {{ selectedSubscriber.Name }}</p>
        <p>Area: {{ selectedSubscriber.Area }}</p>
        <p>País: {{ selectedSubscriber.CountryName }}</p>
        <p>Correo electrónico: {{ selectedSubscriber.Email }}</p>
        <p>Número telefónico: {{ selectedSubscriber.PhoneCodeAndNumber }}</p>
        <p>Estado de Suscripción: {{ selectedSubscriber.SubscriptionStateSubscriptionStateDescription }}</p>
      </div>
      <button (click)="closeModal()" class="mt-4 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Actualizar</button>
    </div>
    
    <!-- Modal -->
    <div *ngIf="isModalOpen" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
      <div class="bg-white p-4 rounded">
        <h2 class="text-2xl font-bold">
          Detalles del Suscriptor: {{ selectedSubscriber.Id }}
        </h2>
        <div class="mt-2">
          <p>Nombre del suscriptor: {{ selectedSubscriber.Name }}</p>
          <p>Area: {{ selectedSubscriber.Area }}</p>
          <p>País: {{ selectedSubscriber.CountryName }}</p>
          <p>Correo electrónico: {{ selectedSubscriber.Email }}</p>
          <p>Número telefónico: {{ selectedSubscriber.PhoneCodeAndNumber }}</p>
          <p>Estado de Suscripción: {{ selectedSubscriber.SubscriptionStateSubscriptionStateDescription }}</p>
        </div>
        <button (click)="closeModal()" class="mt-4 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Cerrar</button>
      </div>
    </div>
  </main>
</div>
</div>

